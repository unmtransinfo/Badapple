<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Fri Jun 29 11:47:46 MDT 2018 -->
<title>badapple_utils (badapple API)</title>
<meta name="date" content="2018-06-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="badapple_utils (badapple API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../edu/unm/health/biocomp/badapple/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/badapple_utils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_servlet.html" title="class in edu.unm.health.biocomp.badapple"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/unm/health/biocomp/badapple/badapple_utils.html" target="_top">Frames</a></li>
<li><a href="badapple_utils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.unm.health.biocomp.badapple</div>
<h2 title="Class badapple_utils" class="title">Class badapple_utils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>badapple_utils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">badapple_utils</span>
extends Object</pre>
<div class="block">Static utility methods for BADAPPLE database system.
        <br>
        Database engines supported:
        <ul>
        <li>PostgreSQL
        <ul>
        <li>PostgreSQL JDBC driver (org.postgresql.Driver).
        <li>Requires either (1) RDKit or (2) gNova OpenChord.
        </ul>
        <li>MySQL
        <ul>
        <li>MySQL JDBC driver (com.mysql.jdbc.Driver).
        <li>No chemical cartridge yet.
        </ul>
        <li>Derby
        <ul>
        <li>Derby JDBC driver (org.apache.derby.jdbc.EmbeddedDriver).
        <li>No chemical cartridge.
        <li>Derby useful for local storage when shared server not available.
        </ul>
        </ul>
        <br></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jeremy J Yang</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>hscaf_utils</code>, 
<code>pg_utils</code>, 
<code>mysql_utils</code>, 
<code>derby_utils</code>, 
<code>DBCon</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#SMIFMT">SMIFMT</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#badapple_utils--">badapple_utils</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#Cansmi-chemaxon.struc.Molecule-">Cansmi</a></span>(Molecule&nbsp;mol)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#Cansmi-java.lang.String-">Cansmi</a></span>(String&nbsp;smiles)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#CID2Smiles-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-boolean-">CID2Smiles</a></span>(DBCon&nbsp;dbcon,
          String&nbsp;schema,
          long&nbsp;cid,
          boolean&nbsp;stereo)</code>
<div class="block">Return cansmi or isosmi for given CID.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#ComputeScaffoldScores-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-long-java.io.File-java.lang.Boolean-int-">ComputeScaffoldScores</a></span>(DBCon&nbsp;dbcon,
                     String&nbsp;schema,
                     long&nbsp;scafid_min,
                     long&nbsp;scafid_max,
                     File&nbsp;fout,
                     Boolean&nbsp;annotate,
                     int&nbsp;verbose)</code>
<div class="block">Compute scaffold scores, optionally annotate scaffold table,
        optionally write to file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static Float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#ComputeScore-long-long-long-long-long-long-long-long-long-">ComputeScore</a></span>(long&nbsp;sTested,
            long&nbsp;sActive,
            long&nbsp;aTested,
            long&nbsp;aActive,
            long&nbsp;wTested,
            long&nbsp;wActive,
            long&nbsp;median_sTested,
            long&nbsp;median_aTested,
            long&nbsp;median_wTested)</code>
<div class="block">Promiscuity score computation:
        score = <br>
                sActive / (sTested + median(sTested)) * <br>
                aActive / (aTested + median(aTested)) * <br>
                wActive / (wTested + median(wTested)) * <br>
                1e5 <br>
        <br>
        where: <br>
          sTested (substances tested) = # tested substances containing this scaffold <br>
          sActive (substances active) = # active substances containing this scaffold <br>
          aTested (assays tested) = # assays with tested compounds containing this scaffold <br>
          aActive (assays active) = # assays with active compounds containing this scaffold <br>
          wTested (samples tested) = # samples (wells) containing this scaffold <br>
          wActive (samples active) = # active samples (wells) containing this scaffold <br></div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#DBDescribeTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-">DBDescribeTxt</a></span>(DBCon&nbsp;dbcon,
             String&nbsp;schema)</code>
<div class="block">Return description text, with scaffold and compound counts.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#DBMetaDataTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-">DBMetaDataTxt</a></span>(DBCon&nbsp;dbcon,
             String&nbsp;schema)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetMaxScafID-edu.unm.health.biocomp.db.DBCon-java.lang.String-">GetMaxScafID</a></span>(DBCon&nbsp;dbcon,
            String&nbsp;schema)</code>
<div class="block">Returns largest scaffold ID.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static HashMap&lt;String,Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetMedians-edu.unm.health.biocomp.db.DBCon-java.lang.String-">GetMedians</a></span>(DBCon&nbsp;dbcon,
          String&nbsp;schema)</code>
<div class="block">Returns scaffold statistics medians needed for scoring.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#getRandomScaffoldScore--">getRandomScaffoldScore</a></span>()</code>
<div class="block">For testing.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldID-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-java.lang.String-int-">GetScaffoldID</a></span>(DBCon&nbsp;dbcon,
             String&nbsp;schema,
             String&nbsp;chemkit,
             String&nbsp;smi,
             int&nbsp;verbose)</code>
<div class="block">Return ID for given scaffold smiles, or null if not in database.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">GetScaffoldScore</a></span>(DBCon&nbsp;dbcon,
                String&nbsp;schema,
                String&nbsp;chemkit,
                long&nbsp;scafid,
                int&nbsp;verbose)</code>
<div class="block">Return promiscuity score for given SCAFID.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-edu.unm.health.biocomp.hscaf.Scaffold-int-">GetScaffoldScore</a></span>(DBCon&nbsp;dbcon,
                String&nbsp;schema,
                String&nbsp;chemkit,
                Scaffold&nbsp;scaf,
                int&nbsp;verbose)</code>
<div class="block">Return promiscuity score for given Scaffold.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-java.lang.String-int-">GetScaffoldScore</a></span>(DBCon&nbsp;dbcon,
                String&nbsp;schema,
                String&nbsp;chemkit,
                String&nbsp;smi,
                int&nbsp;verbose)</code>
<div class="block">Return promiscuity score for given scaffold smiles.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScores-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.struc.Molecule-int-">GetScaffoldScores</a></span>(DBCon&nbsp;dbcon,
                 String&nbsp;schema,
                 String&nbsp;chemkit,
                 Molecule&nbsp;mol,
                 int&nbsp;verbose)</code>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScoresForDBMol-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">GetScaffoldScoresForDBMol</a></span>(DBCon&nbsp;dbcon,
                         String&nbsp;schema,
                         String&nbsp;chemkit,
                         long&nbsp;cid,
                         int&nbsp;verbose)</code>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldScoresForDBMol-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.struc.Molecule-int-">GetScaffoldScoresForDBMol</a></span>(DBCon&nbsp;dbcon,
                         String&nbsp;schema,
                         String&nbsp;chemkit,
                         Molecule&nbsp;mol,
                         int&nbsp;verbose)</code>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldSmiles-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-int-">GetScaffoldSmiles</a></span>(DBCon&nbsp;dbcon,
                 String&nbsp;schema,
                 long&nbsp;scafid,
                 int&nbsp;verbose)</code>
<div class="block">For given SCAFID, return smiles.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#GetScaffoldTree-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-int-">GetScaffoldTree</a></span>(DBCon&nbsp;dbcon,
               String&nbsp;schema,
               long&nbsp;scafid,
               int&nbsp;verbose)</code>
<div class="block">For given SCAFID, return child IDs as scaffold tree.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#ProcessMols-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.formats.MolImporter-chemaxon.formats.MolExporter-int-int-int-int-int-">ProcessMols</a></span>(DBCon&nbsp;dbcon,
           String&nbsp;dbschema,
           String&nbsp;chemkit,
           MolImporter&nbsp;molReader,
           MolExporter&nbsp;molWriter,
           int&nbsp;nskip,
           int&nbsp;nmax,
           int&nbsp;maxatoms,
           int&nbsp;maxrings,
           int&nbsp;verbose)</code>
<div class="block">Process input molecules, do scaffold analysis, generate scores and write to output file.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#RDKit_Version-edu.unm.health.biocomp.db.DBCon-">RDKit_Version</a></span>(DBCon&nbsp;dbcon)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#ScaffoldDescribeTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">ScaffoldDescribeTxt</a></span>(DBCon&nbsp;dbcon,
                   String&nbsp;schema,
                   String&nbsp;chemkit,
                   long&nbsp;scafid,
                   int&nbsp;verbose)</code>
<div class="block">Returns string describing scaffold from database.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_utils.html#UpdateScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-float-java.lang.String-">UpdateScaffoldScore</a></span>(DBCon&nbsp;dbcon,
                   String&nbsp;schema,
                   long&nbsp;scafid,
                   float&nbsp;pScore,
                   String&nbsp;colname)</code>
<div class="block">Annotate scaffold table row with score.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SMIFMT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SMIFMT</h4>
<pre>public static final&nbsp;String SMIFMT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#edu.unm.health.biocomp.badapple.badapple_utils.SMIFMT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="badapple_utils--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>badapple_utils</h4>
<pre>public&nbsp;badapple_utils()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ComputeScore-long-long-long-long-long-long-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ComputeScore</h4>
<pre>public static&nbsp;Float&nbsp;ComputeScore(long&nbsp;sTested,
                                 long&nbsp;sActive,
                                 long&nbsp;aTested,
                                 long&nbsp;aActive,
                                 long&nbsp;wTested,
                                 long&nbsp;wActive,
                                 long&nbsp;median_sTested,
                                 long&nbsp;median_aTested,
                                 long&nbsp;median_wTested)</pre>
<div class="block">Promiscuity score computation:
        score = <br>
                sActive / (sTested + median(sTested)) * <br>
                aActive / (aTested + median(aTested)) * <br>
                wActive / (wTested + median(wTested)) * <br>
                1e5 <br>
        <br>
        where: <br>
          sTested (substances tested) = # tested substances containing this scaffold <br>
          sActive (substances active) = # active substances containing this scaffold <br>
          aTested (assays tested) = # assays with tested compounds containing this scaffold <br>
          aActive (assays active) = # assays with active compounds containing this scaffold <br>
          wTested (samples tested) = # samples (wells) containing this scaffold <br>
          wActive (samples active) = # active samples (wells) containing this scaffold <br></div>
</li>
</ul>
<a name="DBDescribeTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DBDescribeTxt</h4>
<pre>public static&nbsp;String&nbsp;DBDescribeTxt(DBCon&nbsp;dbcon,
                                   String&nbsp;schema)
                            throws SQLException,
                                   Exception</pre>
<div class="block">Return description text, with scaffold and compound counts.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="DBMetaDataTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DBMetaDataTxt</h4>
<pre>public static&nbsp;String&nbsp;DBMetaDataTxt(DBCon&nbsp;dbcon,
                                   String&nbsp;schema)
                            throws SQLException,
                                   Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetMedians-edu.unm.health.biocomp.db.DBCon-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetMedians</h4>
<pre>public static&nbsp;HashMap&lt;String,Integer&gt;&nbsp;GetMedians(DBCon&nbsp;dbcon,
                                                 String&nbsp;schema)
                                          throws SQLException,
                                                 Exception</pre>
<div class="block">Returns scaffold statistics medians needed for scoring.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="ScaffoldDescribeTxt-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ScaffoldDescribeTxt</h4>
<pre>public static&nbsp;String&nbsp;ScaffoldDescribeTxt(DBCon&nbsp;dbcon,
                                         String&nbsp;schema,
                                         String&nbsp;chemkit,
                                         long&nbsp;scafid,
                                         int&nbsp;verbose)
                                  throws SQLException,
                                         Exception</pre>
<div class="block">Returns string describing scaffold from database.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetMaxScafID-edu.unm.health.biocomp.db.DBCon-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetMaxScafID</h4>
<pre>public static&nbsp;long&nbsp;GetMaxScafID(DBCon&nbsp;dbcon,
                                String&nbsp;schema)
                         throws SQLException</pre>
<div class="block">Returns largest scaffold ID.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
</dl>
</li>
</ul>
<a name="ComputeScaffoldScores-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-long-java.io.File-java.lang.Boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ComputeScaffoldScores</h4>
<pre>public static&nbsp;long&nbsp;ComputeScaffoldScores(DBCon&nbsp;dbcon,
                                         String&nbsp;schema,
                                         long&nbsp;scafid_min,
                                         long&nbsp;scafid_max,
                                         File&nbsp;fout,
                                         Boolean&nbsp;annotate,
                                         int&nbsp;verbose)
                                  throws SQLException,
                                         IOException,
                                         Exception</pre>
<div class="block">Compute scaffold scores, optionally annotate scaffold table,
        optionally write to file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>IOException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="UpdateScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-float-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UpdateScaffoldScore</h4>
<pre>public static&nbsp;boolean&nbsp;UpdateScaffoldScore(DBCon&nbsp;dbcon,
                                          String&nbsp;schema,
                                          long&nbsp;scafid,
                                          float&nbsp;pScore,
                                          String&nbsp;colname)
                                   throws SQLException,
                                          IOException</pre>
<div class="block">Annotate scaffold table row with score.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>IOException</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScore</h4>
<pre>public static&nbsp;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&nbsp;GetScaffoldScore(DBCon&nbsp;dbcon,
                                             String&nbsp;schema,
                                             String&nbsp;chemkit,
                                             long&nbsp;scafid,
                                             int&nbsp;verbose)
                                      throws SQLException,
                                             Exception</pre>
<div class="block">Return promiscuity score for given SCAFID.
        If scafid not in database, return null.
        If medians not found, throws special Exception.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-edu.unm.health.biocomp.hscaf.Scaffold-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScore</h4>
<pre>public static&nbsp;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&nbsp;GetScaffoldScore(DBCon&nbsp;dbcon,
                                             String&nbsp;schema,
                                             String&nbsp;chemkit,
                                             Scaffold&nbsp;scaf,
                                             int&nbsp;verbose)
                                      throws SQLException,
                                             Exception</pre>
<div class="block">Return promiscuity score for given Scaffold.  Returns ID
        via ScaffoldScore if in database.
        If not in database, return null.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="RDKit_Version-edu.unm.health.biocomp.db.DBCon-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RDKit_Version</h4>
<pre>public static&nbsp;String&nbsp;RDKit_Version(DBCon&nbsp;dbcon)</pre>
</li>
</ul>
<a name="GetScaffoldScore-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScore</h4>
<pre>public static&nbsp;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&nbsp;GetScaffoldScore(DBCon&nbsp;dbcon,
                                             String&nbsp;schema,
                                             String&nbsp;chemkit,
                                             String&nbsp;smi,
                                             int&nbsp;verbose)
                                      throws SQLException,
                                             Exception</pre>
<div class="block">Return promiscuity score for given scaffold smiles.  Returns ID
        via ScaffoldScore, if in database.
        If not in database, return null.
        <br>
        If not postgres and rdkit|openchord; must have canonical smiles in db.
        <br>
        Note, with RDKit, SMI::mol::VARCHAR = mol_to_smiles(mol_from_smiles(SMI))::VARCHAR.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldID-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldID</h4>
<pre>public static&nbsp;Long&nbsp;GetScaffoldID(DBCon&nbsp;dbcon,
                                 String&nbsp;schema,
                                 String&nbsp;chemkit,
                                 String&nbsp;smi,
                                 int&nbsp;verbose)
                          throws SQLException,
                                 Exception</pre>
<div class="block">Return ID for given scaffold smiles, or null if not in database.
        Only for non-Badapple (HScaf) use.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldSmiles-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldSmiles</h4>
<pre>public static&nbsp;String&nbsp;GetScaffoldSmiles(DBCon&nbsp;dbcon,
                                       String&nbsp;schema,
                                       long&nbsp;scafid,
                                       int&nbsp;verbose)
                                throws SQLException,
                                       Exception</pre>
<div class="block">For given SCAFID, return smiles.
        If scafid not in database, return null.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldTree-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldTree</h4>
<pre>public static&nbsp;String&nbsp;GetScaffoldTree(DBCon&nbsp;dbcon,
                                     String&nbsp;schema,
                                     long&nbsp;scafid,
                                     int&nbsp;verbose)
                              throws SQLException,
                                     Exception</pre>
<div class="block">For given SCAFID, return child IDs as scaffold tree.
        If scafid not in database, return null.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldScoresForDBMol-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.struc.Molecule-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScoresForDBMol</h4>
<pre>public static&nbsp;ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;&nbsp;GetScaffoldScoresForDBMol(DBCon&nbsp;dbcon,
                                                                 String&nbsp;schema,
                                                                 String&nbsp;chemkit,
                                                                 Molecule&nbsp;mol,
                                                                 int&nbsp;verbose)
                                                          throws SQLException,
                                                                 Exception</pre>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.  This method for molecules in database, thus
        not requiring scaffold analysis.  Whether the query molecule is stereo
        or non-stereo, the exact stereo-specific match will be found if present in the
        database, and if not the non-stereo match will be found.  Arguably a
        stereo-specific query should not hit a non-stereo match, so this
        behavior might be reconsidered.
        <br>
        If molecule not in database, returns null.
        If molecule in database, but without scaffolds, returns empty scores ArrayList.
        <br>
        If DBTYPE not "postgres", no openchord/openbabel; must assume that (JChem) canonical smiles are stored.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldScoresForDBMol-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScoresForDBMol</h4>
<pre>public static&nbsp;ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;&nbsp;GetScaffoldScoresForDBMol(DBCon&nbsp;dbcon,
                                                                 String&nbsp;schema,
                                                                 String&nbsp;chemkit,
                                                                 long&nbsp;cid,
                                                                 int&nbsp;verbose)
                                                          throws SQLException,
                                                                 Exception</pre>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.  
        <br>
        If molecule not in database, returns null.
        If molecule in database, but without scaffolds, returns empty scores ArrayList.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="GetScaffoldScores-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.struc.Molecule-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetScaffoldScores</h4>
<pre>public static&nbsp;ArrayList&lt;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&gt;&nbsp;GetScaffoldScores(DBCon&nbsp;dbcon,
                                                         String&nbsp;schema,
                                                         String&nbsp;chemkit,
                                                         Molecule&nbsp;mol,
                                                         int&nbsp;verbose)
                                                  throws SQLException,
                                                         Exception</pre>
<div class="block">Return promiscuity scores for given molecule, meaning one score for each scaffold
        contained in the molecule.  This method for molecules not in database, thus
        requiring scaffold analysis.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="CID2Smiles-edu.unm.health.biocomp.db.DBCon-java.lang.String-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CID2Smiles</h4>
<pre>public static&nbsp;String&nbsp;CID2Smiles(DBCon&nbsp;dbcon,
                                String&nbsp;schema,
                                long&nbsp;cid,
                                boolean&nbsp;stereo)
                         throws SQLException,
                                Exception</pre>
<div class="block">Return cansmi or isosmi for given CID.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
<a name="getRandomScaffoldScore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRandomScaffoldScore</h4>
<pre>public static&nbsp;<a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple">ScaffoldScore</a>&nbsp;getRandomScaffoldScore()</pre>
<div class="block">For testing.</div>
</li>
</ul>
<a name="ProcessMols-edu.unm.health.biocomp.db.DBCon-java.lang.String-java.lang.String-chemaxon.formats.MolImporter-chemaxon.formats.MolExporter-int-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ProcessMols</h4>
<pre>public static&nbsp;void&nbsp;ProcessMols(DBCon&nbsp;dbcon,
                               String&nbsp;dbschema,
                               String&nbsp;chemkit,
                               MolImporter&nbsp;molReader,
                               MolExporter&nbsp;molWriter,
                               int&nbsp;nskip,
                               int&nbsp;nmax,
                               int&nbsp;maxatoms,
                               int&nbsp;maxrings,
                               int&nbsp;verbose)
                        throws IOException</pre>
<div class="block">Process input molecules, do scaffold analysis, generate scores and write to output file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>IOException</code></dd>
</dl>
</li>
</ul>
<a name="Cansmi-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Cansmi</h4>
<pre>public static&nbsp;String&nbsp;Cansmi(String&nbsp;smiles)</pre>
</li>
</ul>
<a name="Cansmi-chemaxon.struc.Molecule-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Cansmi</h4>
<pre>public static&nbsp;String&nbsp;Cansmi(Molecule&nbsp;mol)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../edu/unm/health/biocomp/badapple/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/badapple_utils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/unm/health/biocomp/badapple/badapple_servlet.html" title="class in edu.unm.health.biocomp.badapple"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/unm/health/biocomp/badapple/ScaffoldScore.html" title="class in edu.unm.health.biocomp.badapple"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/unm/health/biocomp/badapple/badapple_utils.html" target="_top">Frames</a></li>
<li><a href="badapple_utils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><I>Copyright &#169; 2018, UNM Translational Informatics Division</I></small></p>
</body>
</html>
